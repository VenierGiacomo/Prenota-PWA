<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!-- Icons font CSS-->
    <!-- <link href="../assets/template/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all"> -->
    <!-- <link href="../assets/template/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all"> -->
    <!-- Font special for pages-->
     <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"> 

    <!-- Vendor CSS-->
    <!-- <link href="../assets/template/vendor/select2/select2.min.css" rel="stylesheet" media="all"> -->
    <!-- <link href="../assets/template/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all"> -->

    <!-- Main CSS-->
    <!-- <link href="../assets/template/css/main.css" rel="stylesheet" media="all"> -->
</head>
<body>
    <div class="toast-s" [style.display]='toast'>Modifiche salvate correttamente</div>
    <div class="home">
        <div class="side-menu">
            <div class="menu-home" (click)='goHome()'>Calendario</div>
            <div class="menu-settings">Impostazioni</div>
            <!-- <button (click)="goSettings()">Indietro</button> -->
            <div class="menu-logout" (click)="goSettings()"> <img src="../assets/icons/back.svg"/> &nbsp;Indietro</div>
        </div>  
        <div class="settings">
            <div class='title-sect'>
                <h1>Dipendenti</h1>
            </div>
            <div class="business-type">
                <h4>Dipendete:</h4> 
                <span>
                    <select [(ngModel)]="employee"  (change)='changeTimetable()' >
                        <option value=0>Seleziona un dipendete</option>
                        <option  *ngFor='let employee of employees' value={{employee.employee}}>{{employee.name}}</option>
                    </select>
                    <p>Clicca per selezionare un altro dipendente</p>
                </span>
                <div class="save" (click)='storeEverything()' *ngIf='employee!=0'>Salva modifiche</div>
            </div>
            <div class="opening-hours" *ngIf='employee!=0'>
                <!-- <div class="head-form"> -->
                        <h4>Orario di lavoro:</h4> 
                        <!-- <div class="save">Salva </div> -->
                <!-- </div> -->
                <div class="days">
                    <div class="day">
                        <div class="title-day">Lunedi:</div>
                        <div class="time"><div *ngIf='closed_days[0]'>dalle</div><input type="time" *ngIf='closed_days[0]' [(ngModel)]='lun[0]'><div *ngIf='closed_days[0]'>alle</div><input type="time" *ngIf='closed_days[0]' [(ngModel)]='lun[1]'><div *ngIf='double_turn[0]'>e dalle</div><input type="time" *ngIf='double_turn[0]' [(ngModel)]='lun[2]'><div *ngIf='double_turn[0]'>alle</div><input type="time" *ngIf='double_turn[0]' [(ngModel)]='lun[3]'><span *ngIf='closed_days[0]'> <input type="checkbox" [checked]="double_turn[0]" (change)="double_turn[0] = !double_turn[0]">&nbsp;2 turni</span><span *ngIf='!double_turn[0]'><input type="checkbox" [checked]="!closed_days[0]" (change)="closed_days[0] = !closed_days[0]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Martedi:</div>
                        <div class="time"><div *ngIf='closed_days[1]'>dalle</div><input type="time" *ngIf='closed_days[1]' [(ngModel)]='mar[0]'><div *ngIf='closed_days[1]'>alle</div><input type="time" *ngIf='closed_days[1]' [(ngModel)]='mar[1]'><div *ngIf='double_turn[1]'>e dalle</div><input type="time" *ngIf='double_turn[1]' [(ngModel)]='mar[2]'><div *ngIf='double_turn[1]'>alle</div><input type="time" *ngIf='double_turn[1]' [(ngModel)]='mar[3]'><span *ngIf='closed_days[1]'> <input type="checkbox" [checked]="double_turn[1]" (change)="double_turn[1] = !double_turn[1]">&nbsp;2 turni</span><span *ngIf='!double_turn[1]'><input type="checkbox" [checked]="!closed_days[1]" (change)="closed_days[1] = !closed_days[1]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Mercoledi:</div>
                        <div class="time"><div *ngIf='closed_days[2]'>dalle</div><input type="time" *ngIf='closed_days[2]' [(ngModel)]='mer[0]'><div *ngIf='closed_days[2]'>alle</div><input type="time" *ngIf='closed_days[2]' [(ngModel)]='mer[1]'><div *ngIf='double_turn[2]'>e dalle</div><input type="time" *ngIf='double_turn[2]' [(ngModel)]='mer[2]'><div *ngIf='double_turn[2]'>alle</div><input type="time" *ngIf='double_turn[2]' [(ngModel)]='mer[3]'><span *ngIf='closed_days[2]'> <input type="checkbox" [checked]="double_turn[2]" (change)="double_turn[2] = !double_turn[2]">&nbsp;2 turni</span><span *ngIf='!double_turn[2]'><input type="checkbox" [checked]="!closed_days[2]" (change)="closed_days[2] = !closed_days[2]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Giovedi:</div>
                        <div class="time"><div *ngIf='closed_days[3]'>dalle</div><input type="time" *ngIf='closed_days[3]' [(ngModel)]='gio[0]'><div *ngIf='closed_days[3]'>alle</div><input type="time" *ngIf='closed_days[3]' [(ngModel)]='gio[1]'><div *ngIf='double_turn[3]'>e dalle</div><input type="time" *ngIf='double_turn[3]' [(ngModel)]='gio[2]'><div *ngIf='double_turn[3]'>alle</div><input type="time" *ngIf='double_turn[3]' [(ngModel)]='gio[3]'><span *ngIf='closed_days[3]'> <input type="checkbox" [checked]="double_turn[3]" (change)="double_turn[3] = !double_turn[3]">&nbsp;2 turni</span><span *ngIf='!double_turn[3]'><input type="checkbox" [checked]="!closed_days[3]" (change)="closed_days[3] = !closed_days[3]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Venerdi:</div>
                        <div class="time"><div *ngIf='closed_days[4]'>dalle</div><input type="time" *ngIf='closed_days[4]' [(ngModel)]='ven[0]'><div *ngIf='closed_days[4]'>alle</div><input type="time" *ngIf='closed_days[4]' [(ngModel)]='ven[1]'><div *ngIf='double_turn[4]'>e dalle</div><input type="time" *ngIf='double_turn[4]' [(ngModel)]='ven[2]'><div *ngIf='double_turn[4]'>alle</div><input type="time" *ngIf='double_turn[4]' [(ngModel)]='ven[3]'><span *ngIf='closed_days[4]'> <input type="checkbox" [checked]="double_turn[4]" (change)="double_turn[4] = !double_turn[4]">&nbsp;2 turni</span><span *ngIf='!double_turn[4]'><input type="checkbox" [checked]="!closed_days[4]" (change)="closed_days[4] = !closed_days[4]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Sabato:</div>
                        <div class="time"><div *ngIf='closed_days[5]'>dalle</div><input type="time" *ngIf='closed_days[5]' [(ngModel)]='sab[0]'><div *ngIf='closed_days[5]'>alle</div><input type="time" *ngIf='closed_days[5]' [(ngModel)]='sab[1]'><div *ngIf='double_turn[5]'>e dalle</div><input type="time" *ngIf='double_turn[5]' [(ngModel)]='sab[2]'><div *ngIf='double_turn[5]'>alle</div><input type="time" *ngIf='double_turn[5]' [(ngModel)]='sab[3]'><span *ngIf='closed_days[5]'> <input type="checkbox" [checked]="double_turn[5]" (change)="double_turn[5] = !double_turn[5]">&nbsp;2 turni</span><span *ngIf='!double_turn[5]'><input type="checkbox" [checked]="!closed_days[5]" (change)="closed_days[5] = !closed_days[5]">&nbsp;chiuso</span></div>
                    </div>
                    <div class="day">
                        <div class="title-day">Domenica:</div>
                        <div class="time"><div *ngIf='closed_days[6]'>dalle</div><input type="time" *ngIf='closed_days[6]' [(ngModel)]='dom[0]'><div *ngIf='closed_days[6]'>alle</div><input type="time" *ngIf='closed_days[6]' [(ngModel)]='dom[1]'><div *ngIf='double_turn[6]'>e dalle</div><input type="time" *ngIf='double_turn[6]' [(ngModel)]='dom[2]'><div *ngIf='double_turn[6]'>alle</div><input type="time" *ngIf='double_turn[6]' [(ngModel)]='dom[3]'><span *ngIf='closed_days[6]'> <input type="checkbox" [checked]="double_turn[6]" (change)="double_turn[6] = !double_turn[6]">&nbsp;2 turni</span><span *ngIf='!double_turn[6]'><input type="checkbox" [checked]="!closed_days[6]" (change)="closed_days[6] = !closed_days[6]">&nbsp;chiuso</span></div>
                    </div>           
                </div>
            </div>
            <div class="services" >
                <div class="service-cont">
                        <div *ngIf='employee!=0'class=" service add-service" (click)='displayCatalog()'>Servizzi <br> dipendente</div>
                        <div *ngIf='employee==0' class=" service add-service" (click)='this.emplo = "block"'>I tuoi <br> dipendenti</div>
                        <div class=" service add-service" (click)='createEmployee="block"'>Aggiungi <br> dipendente</div>
                       
                    
                </div>
            </div>
            
        </div>
    </div>
</body>
<div class="catalog" [style.display]='catalog'>
        <div class="close-catalog" (click)='catalog="none"'>  <img src="../assets/icons/closewhite.svg"/></div>
            <div class="cont-table">
                <table class="table-catalog">
                    <thead>
                        <tr> 
                            <th class="corner1">Nome Servizio</th>
                            <th>Durata</th>
                            <th>Sesso</th>
                            <th>Max</th>
                            <th class="corner2">Attivo</th>
                        </tr>
                    </thead>  
                    <tbody>
                        <tr *ngFor='let service of catalog_list'> 
                            <td>{{service.name}}</td>
                            <td>{{durations[service.duration]}}</td>
                            <td>{{sexs[service.sex]}}</td>
                            <td>{{service.max_n}}</td>
                            <td *ngIf='service.active' (click)='activate(service)'> <button class="active-service">Attivo</button></td>
                            <td *ngIf='!service.active' (click)='activate(service)'> <button class="deactivated">Non attivo</button></td>
                        </tr>
                       
                    </tbody>
                </table>     
        </div>
    </div>
<div class="catalog" [style.display]='createEmployee'>
        <div class="close-catalog" (click)='createEmployee="none"'>  <img src="../assets/icons/closewhite.svg"/></div>
    <div class="page-wrapper bg-gra-02 p-t-70 p-b-30 font-poppins" >
        <div class="wrapper wrapper--w680">
            <div class="card card-4">
                <div class="card-body">
                    <h2 class="title">Crea il profilo di un nuovo dipendente</h2>
                    <form >
                        <div class="row row-space">
                            <div class="col-2-r">
                                <div class="input-group">
                                    <div class="label">Nome</div>
                                    <input class="input--style-4" [(ngModel)]="first_name" type="text" name="first_name" placeholder="Mario">
                                </div>
                            </div>
                            <div class="col-2-r">
                                <div class="input-group">
                                    <div class="label">Cognome</div>
                                    <input class="input--style-4" [(ngModel)]="last_name" type="text" name="last_name" placeholder="Rossi">
                                </div>
                            </div>
                        </div>
                        <div class="row row-space">
                                <div class="col-2-r">
                                        <div class="input-group">
                                            <div class="label">Username</div>
                                            <input class="input--style-4" [(ngModel)]="username"type="text" name="username" placeholder="MarioRossi64">
                                        </div>
                                    </div>
                                    <div class="col-2-r">
                                        <div class="input-group" >
                                            <label class="label">Sesso</label>
                                            <div class="p-t-10">
                                                <label class="radio-container m-r-45">Uomo
                                                    <input type="radio" [(ngModel)]="sex" value="m"checked="checked" name="gender">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="radio-container">Donna
                                                    <input type="radio" [(ngModel)]="sex" value="w" name="gender">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                        </div>
                        <div class="row row-space">
                            <div class="col-2-r">
                                <div class="input-group">
                                    <div class="label">Email</div>
                                    <input class="input--style-4" [(ngModel)]="email" type="email" name="email"  placeholder="mario.rossi@email.com">
                                </div>
                            </div>
                            <div class="col-2-r">
                                    <div class="input-group">
                                        <div class="label">Numero di telefono</div>
                                        <input class="input--style-4"[(ngModel)]="phone" type="text" name="phone" placeholder="3312233645">
                                    </div>
                                </div>
                        </div>
                        <div class="row row-space">
                                <div class="col-2-r">
                                    <div class="input-group">
                                        <div class="label">Password</div>
                                        <input class="input--style-4" [(ngModel)]="password" type="password" name="password"  placeholder="********">
                                    </div>
                                </div>
                                
                            </div>
                        <div class="p-t-15">
                            <button class="btn btn--radius-2 btn--blue"  (click)='submit()' >Crea</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="catalog" [style.display]='emplo'>
        <div class="close-catalog" (click)='emplo="none"'>  <img src="../assets/icons/closewhite.svg"/></div>
            <div class="cont-table">
                <table class="table-catalog">
                    <thead>
                        <tr> 
                            <th class="corner1">Nome</th>
                            <th class="corner2">Elimina</th>
                        </tr>
                    </thead>  
                    <tbody>
                        <tr *ngFor='let employee of employees'> 
                            <td>{{employee.name}}</td>
                            <td  (click)='deleteEmployee(employee)'> <button class="delete">Elimina</button></td>
                        </tr>
                       
                    </tbody>
                </table>     
        </div>
    </div>


<script src="../assets/template/vendor/jquery/jquery.min.js"></script>
    
<script src="../assets/template/vendor/select2/select2.min.js"></script>
<script src="../assets/template/vendor/datepicker/moment.min.js"></script>
<script src="../assets/template/vendor/datepicker/daterangepicker.js"></script>


<script src="../assets/template/js/global.js"></script>